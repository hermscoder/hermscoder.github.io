<div *ngIf="profile != null" class="row project-collection">
  <div *ngIf="editMode" class="project add-button" (click)="modalService.open('addProjectModal')">
    <h1>Add new project</h1>
    <span style="font-size: 5rem">+</span>
  </div>
  <div *ngFor="let project of profile?.projectsList" class="project" style="background-image: url({{project.thumbnail.url}})">
    <div class="project-description clickable" (click)="navigateTo(project.urlToProject)">
      <h2 class="text-gray-1">{{project.title}}</h2>
      <span class="text-gray-2">{{project.description}}</span>
    </div>
  </div>
</div>

<hc-modal id="addProjectModal" modalWidth="400px">
  <form class="form" [formGroup]="addProjectForm" (ngSubmit)="addProject()">
    <div class="form-item">
      <label class="form-label">Title:</label>
      <input type="text" [formControlName]="'title'" required="true" class="input-text"/>
    </div>
    <div class="form-item">
      <label class="form-label">Url:</label>
      <input type="text" [formControlName]="'urlToProject'" required="true" class="input-text"/>
    </div>
    <div class="form-item">
      <label class="form-label">Description:</label>
      <textarea type="text" [formControlName]="'description'" required="true" class="textarea"></textarea>
    </div>
    <div class="form-item">
      <label class="form-label">Thumbnail image:</label>
      <hc-uploader [mediaList]="addProjectForm.value.thumbnail" (onUploadSuccessful)="changeProjectThumbnail($event);" class="upload-input"></hc-uploader>
    </div>
    <div class="d-flex mt-2">
      <a title="Close" class="im-flex d-flex" style="text-decoration: none" (click)="modalService.close('addProjectModal')">
        <button class="btn btn-default im-flex">Cancel</button>
      </a>
      <button class="btn btn-primary im-flex" type="submit">Add</button>
    </div>
  </form>
</hc-modal>
